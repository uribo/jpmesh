<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utilities for Japanese Mesh Code • jpmesh</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Utilities for Japanese Mesh Code">
<meta property="og:description" content="Helpful functions for using mesh code (80km to 125m) data in Japan. Visualize mesh code using ggplot2 and leaflet, etc.">
<meta property="og:image" content="https://uribo.github.io/jpmesh/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">jpmesh</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/articles/plots.html">Construct maps with jpmesh</a>
    </li>
    <li>
      <a href="articles/usage.html">How to use mesh cord in R</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/uribo/jpmesh">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="jpmesh-" class="section level1">


<p><a href="https://codecov.io/github/uribo/jpmesh?branch=master"><img src="https://codecov.io/gh/uribo/jpmesh/branch/master/graph/badge.svg" alt="Coverage status"></a> <a href="https://github.com/uribo/jpmesh/actions?query=workflow%3AR-CMD-check"><img src="https://github.com/uribo/jpmesh/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></p>
<p><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg?style=for-the-badge" alt="lifecycle"></a> <a href="https://github.com/uribo/jpmesh"><img src="https://img.shields.io/npm/l/express.svg?style=for-the-badge" alt="npm"></a></p>
<hr>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The <strong>jpmesh</strong> package is a package that makes it easy to use “regional mesh (i.e. mesh code <em>JIS X 0410</em> )” used in Japan from R. Regional mesh is a code given when subdividing Japanese landscape into rectangular subregions by latitude and longitude. Depending on the accuracy of the code, different regional mesh length. By using the same mesh in statistical survey etc., it will become possible to handle the survey results of a large area in the area mesh unit.</p>
<p>In jpmesh, mesh codes and latitude and longitude coordinates are compatible with mesh codes from the first region mesh, which is the standard region mesh, to the quarter regional mesh of the divided region mesh (from 80 km to 100 m). Features include “conversion from latitude and longitude to regional mesh”, “acquisition of latitude and longitude from regional mesh”, “mapping on prefecture unit and leaflet”.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>From CRAN</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">install.packages</span>(<span class="st">"jpmesh"</span>)</span></code></pre></div>
<p>For developers</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># the development version from GitHub:</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"uribo/jpmesh"</span>)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">library</span>(jpmesh)</span></code></pre></div>
<div id="create-mesh-code" class="section level3">
<h3 class="hasAnchor">
<a href="#create-mesh-code" class="anchor"></a>Create mesh code</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">meshcode</span>(<span class="dv">5133</span>) <span class="co"># 80km</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; [1] 5133</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="kw">meshcode</span>(<span class="dv">513377</span>) <span class="co"># 10km</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; [1] 513377</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="kw">meshcode</span>(<span class="dv">51337783</span>) <span class="co"># 1km</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; [1] 51337783</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="kw">meshcode</span>(<span class="dv">513377831</span>) <span class="co"># 500m</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt; [1] 513377831</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="kw">meshcode</span>(<span class="dv">5133778312</span>) <span class="co"># 250m</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt; [1] 5133778312</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="kw">meshcode</span>(<span class="dv">51337783123</span>) <span class="co"># 125m</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">#&gt; [1] 51337783123</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="kw">meshcode</span>(<span class="dv">5133778300</span>, <span class="dt">.type =</span> <span class="st">"subdivision"</span>) <span class="co"># 100m</span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">#&gt; &lt;subdiv_meshcode[1]&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">#&gt; [1] 5133778300</span></span></code></pre></div>
</div>
<div id="convert-mesh-code-to-coordinate-and-vice-versa" class="section level3">
<h3 class="hasAnchor">
<a href="#convert-mesh-code-to-coordinate-and-vice-versa" class="anchor"></a>Convert mesh code to coordinate and vice versa</h3>
<p>Return the latitude and longitude for specifying the mesh range from the mesh code.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">mesh_to_coords</span>(<span class="dv">5133</span>) <span class="co"># 80km</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt; # A tibble: 1 x 5</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt;     meshcode lng_center lat_center lng_error lat_error</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt;   &lt;meshcode&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; 1       5133       134.       34.3       0.5     0.333</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="kw">mesh_to_coords</span>(<span class="dv">513377</span>) <span class="co"># 10km</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; # A tibble: 1 x 5</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt;     meshcode lng_center lat_center lng_error lat_error</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt;   &lt;meshcode&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt; 1     513377       134.       34.6    0.0625    0.0417</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="kw">mesh_to_coords</span>(<span class="dv">51337783</span>) <span class="co"># 1km</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt; # A tibble: 1 x 5</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt;     meshcode lng_center lat_center lng_error lat_error</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt;   &lt;meshcode&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt; 1   51337783       134.       34.7   0.00625   0.00417</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="kw">mesh_to_coords</span>(<span class="dv">513377831</span>) <span class="co"># 500m</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">#&gt; # A tibble: 1 x 5</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">#&gt;     meshcode lng_center lat_center lng_error lat_error</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">#&gt;   &lt;meshcode&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">#&gt; 1  513377831       134.       34.7   0.00312   0.00208</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="kw">mesh_to_coords</span>(<span class="dv">5133778312</span>) <span class="co"># 250m</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="co">#&gt; # A tibble: 1 x 5</span></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="co">#&gt;     meshcode lng_center lat_center lng_error lat_error</span></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="co">#&gt;   &lt;meshcode&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="co">#&gt; 1 5133778312       134.       34.7   0.00156   0.00104</span></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="kw">mesh_to_coords</span>(<span class="dv">51337783123</span>) <span class="co"># 125m</span></span>
<span id="cb5-27"><a href="#cb5-27"></a><span class="co">#&gt; # A tibble: 1 x 5</span></span>
<span id="cb5-28"><a href="#cb5-28"></a><span class="co">#&gt;      meshcode lng_center lat_center lng_error lat_error</span></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="co">#&gt;    &lt;meshcode&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co">#&gt; 1 51337783123       134.       34.7  0.000781  0.000521</span></span></code></pre></div>
<p>Find the mesh code within the range from latitude and longitude.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">coords_to_mesh</span>(<span class="dv">133</span>, <span class="dv">34</span>) <span class="co"># default as 1km meshcode</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; [1] 51330000</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="kw">coords_to_mesh</span>(<span class="dv">133</span>, <span class="dv">34</span>, <span class="dt">mesh_size =</span> <span class="dv">80</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; [1] 5133</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">coords_to_mesh</span>(<span class="dv">133</span>, <span class="dv">34</span>, <span class="dt">mesh_size =</span> <span class="fl">0.125</span>)</span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt; [1] 51330000111</span></span></code></pre></div>
<p>There is <code><a href="reference/mesh_convert.html">mesh_convert()</a></code> as a function to change the mesh size more freely.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Scale up</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">mesh_convert</span>(<span class="st">"52350432"</span>, <span class="dv">80</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt; &lt;meshcode[1]&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt; [1] 5235</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co"># Scale down</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="kw">mesh_convert</span>(<span class="st">"52350432"</span>, <span class="fl">0.500</span>)</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; &lt;meshcode[4]&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt; [1] 523504321 523504322 523504323 523504324</span></span></code></pre></div>
</div>
<div id="detect-fine-and-neighborhood-mesh-codes" class="section level3">
<h3 class="hasAnchor">
<a href="#detect-fine-and-neighborhood-mesh-codes" class="anchor"></a>Detect fine and neighborhood mesh codes</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Returns a finer mesh of the area of the mesh codes</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co"># Such as, 80km to 10km mesh codes.</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="kw">coords_to_mesh</span>(<span class="dv">133</span>, <span class="dv">34</span>, <span class="dv">80</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="st">  </span><span class="kw">fine_separate</span>()</span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">#&gt; &lt;meshcode[64]&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt;  [1] 513300 513301 513302 513303 513304 513305 513306 513307 513310 513311</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt; [11] 513312 513313 513314 513315 513316 513317 513320 513321 513322 513323</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt; [21] 513324 513325 513326 513327 513330 513331 513332 513333 513334 513335</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; [31] 513336 513337 513340 513341 513342 513343 513344 513345 513346 513347</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; [41] 513350 513351 513352 513353 513354 513355 513356 513357 513360 513361</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; [51] 513362 513363 513364 513365 513366 513367 513370 513371 513372 513373</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">#&gt; [61] 513374 513375 513376 513377</span></span>
<span id="cb8-13"><a href="#cb8-13"></a></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co"># the value of the adjacent mesh codes</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="kw">coords_to_mesh</span>(<span class="dv">133</span>, <span class="dv">34</span>, <span class="dv">80</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="st">  </span><span class="kw">neighbor_mesh</span>()</span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; &lt;meshcode[9]&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; [1] 5032 5033 5034 5132 5133 5134 5232 5233 5234</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="kw">coords_to_mesh</span>(<span class="dv">133</span>, <span class="dv">34</span>, <span class="fl">0.5</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="st">  </span><span class="kw">neighbor_mesh</span>()</span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">#&gt; &lt;meshcode[9]&gt;</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">#&gt; [1] 503277994 503370903 503370904 513207092 513207094 513300001 513300002</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#&gt; [8] 513300003 513300004</span></span></code></pre></div>
</div>
<div id="utilies" class="section level3">
<h3 class="hasAnchor">
<a href="#utilies" class="anchor"></a>Utilies</h3>
<p>Drawing a simplified Japanese map based on the mesh code.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">library</span>(sf)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(jpnrect))</span></code></pre></div>
<p><img src="reference/figures/README-jpn_simple_map_sf-1.png"><!-- --></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> jpnrect)</span></code></pre></div>
<p><img src="reference/figures/README-jpn_simple_map-1.png"><!-- --></p>
<p>Dataset of mesh code for prefectures.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">set.seed</span>(<span class="dv">71</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="kw">administration_mesh</span>(<span class="dt">code =</span> <span class="dv">33</span>, <span class="dt">to_mesh_size =</span> <span class="dv">80</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">  </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">meshcode</th>
<th align="left">geometry</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">5133</td>
<td align="left">POLYGON ((133 34, 134 34, 1…</td>
</tr>
<tr class="even">
<td align="left">5233</td>
<td align="left">POLYGON ((133 34.66667, 134…</td>
</tr>
<tr class="odd">
<td align="left">5234</td>
<td align="left">POLYGON ((134 34.66667, 135…</td>
</tr>
<tr class="even">
<td align="left">5134</td>
<td align="left">POLYGON ((134 34, 135 34, 1…</td>
</tr>
<tr class="odd">
<td align="left">5333</td>
<td align="left">POLYGON ((133 35.33333, 134…</td>
</tr>
<tr class="even">
<td align="left">5334</td>
<td align="left">POLYGON ((134 35.33333, 135…</td>
</tr>
</tbody>
</table>
<p>Example)</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># For leaflet and mapview</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">library</span>(leaflet)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="kw">leaflet</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="st">  </span><span class="kw">addProviderTiles</span>(<span class="st">"OpenStreetMap.BlackAndWhite"</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="st">  </span><span class="kw">addPolygons</span>(<span class="dt">data =</span> <span class="kw">administration_mesh</span>(<span class="dt">code =</span> <span class="dv">33101</span>, <span class="dt">to_mesh_size =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="reference/figures/README-mesh_pref_33_leaflet-1.png"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> <span class="kw">administration_mesh</span>(<span class="dt">code =</span> <span class="dv">33</span>, <span class="dt">to_mesh_size =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="reference/figures/README-mesh_pref33_map-1.png"></p>
</div>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=jpmesh">https://​cloud.r-project.org/​package=jpmesh</a>
</li>
<li>Browse source code at <br><a href="https://github.com/uribo/jpmesh/">https://​github.com/​uribo/​jpmesh/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/uribo/jpmesh/issues">https://​github.com/​uribo/​jpmesh/​issues</a>
</li>
<li>Useful links at <br><a href="http://www.gis-tool.com/mapview/areameshmap.html">http://​www.gis-tool.com/​mapview/​areameshmap.html</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Shinya Uryu <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0493-6186" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=jpmesh"><img src="https://www.r-pkg.org/badges/version/jpmesh" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=jpmesh"><img src="https://cranlogs.r-pkg.org/badges/jpmesh?color=FF5254" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="https://cran.r-project.org/"><img src="https://img.shields.io/badge/R%3E%3D-3.1.0-blue.svg" alt="minimal R version"></a></li>
<li><a href="http://depsy.org/package/r/jpmesh"><img src="http://depsy.org/api/package/cran/jpmesh/badge.svg" alt="Depsy"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.3727438"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.3727438.svg" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Shinya Uryu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
